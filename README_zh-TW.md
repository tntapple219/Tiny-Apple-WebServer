# Tiny Apple Server 🍎 小蘋果網頁伺服器

[English](./README.md) | [繁體中文](./README_zh-TW.md)

一個使用 Go 語言編寫的輕量級、多域名網頁伺服器，擁有一個使用者友善的網頁圖形介面 (GUI)，讓設定變得簡單。它的設計目標是為管理多個小型專案提供一個比 Nginx 或 Caddy 更簡易的替代方案。

![管理介面截圖](./screenshot.png)

## ✨ 核心功能

-   **網頁圖形化介面 (GUI)**：在一個獨立的埠口 (`:9999`) 上運行一個現代化的網頁介面，輕鬆管理您所有的域名。
-   **多域名支援**：在一台伺服器上託管多個網站，請求會根據主機名稱自動路由。
-   **多種伺服器模式**：為每個域名設定三種不同的運作模式：
    -   **📁 檔案伺服器 (File Server)**：提供靜態檔案服務（HTML, CSS, JS, 圖片等）。
    -   **🐘 PHP 伺服器 (PHP Server)**：透過 PHP-FPM socket 執行 PHP 應用程式。
    -   **🔄 反向代理 (Reverse Proxy)**：將請求轉發到其他的後端服務（例如 Node.js, Python, Java 應用）。
-   **完整的 SSL 管理**：
    -   **Let's Encrypt**：全自動申請與續簽 SSL 憑證。
    -   **自訂憑證 (Custom Certificates)**：使用您自己的 SSL 憑證檔案。
    -   **自簽發憑證 (Self-Signed Certificates)**：為開發環境自動生成自簽發憑證。
    -   **忽略憑證驗證 (Insecure Skip Verify)**：在反向代理模式下，可選擇忽略後端目標的自簽發 SSL 憑證錯誤。
-   **現代化 UI**：
    -   **深色/淺色模式**：自動偵測系統偏好，並支援手動切換。
    -   **多國語言支援**：可在英文與繁體中文之間切換。

## 🚀 快速入門

### 前置需求

-   **Go**: 建議使用 1.18 或更高版本。
-   **PHP-FPM** (可選): 僅在您需要使用 PHP 伺服器模式時才需要安裝。

### 安裝與運行

1.  **複製專案倉庫:**
    ```bash
    git clone https://github.com/your-username/tiny-apple-server.git
    cd tiny-apple-server
    ```

2.  **安裝依賴:**
    當您運行應用程式時，Go 會自動處理。如果您想手動安裝：
    ```bash
    go mod tidy
    ```

3.  **運行應用程式:**
    伺服器需要綁定 80 和 443 這兩個系統保護埠，因此需要管理員權限。

    ```bash
    sudo go run .
    ```
    您將在終端機看到日誌訊息，表示管理面板和主要的 Web 服務已成功啟動。

## 🛠️ 如何使用

### 1. 管理面板

-   打開您的網頁瀏覽器，訪問 `http://localhost:9999/admin`。
-   使用表單來新增域名。
-   對於每個域名，您必須指定：
    -   一個唯一的**域名** (例如：`test.local`, `my-project.com`)。
    -   一個**類型** (檔案伺服器、PHP 伺服器或反向代理)。
    -   對應類型的相關設定 (例如：根目錄、PHP-FPM Socket、目標 URL)。
    -   用於處理 HTTPS 流量的 **SSL 模式**。

### 2. 網頁伺服器

-   一旦域名被設定，伺服器將會自動在 80 埠 (重定向至 HTTPS) 和 443 埠上處理請求。
-   為了讓 Let's Encrypt 和公開訪問正常運作，請確保您的域名 DNS 紀錄已指向伺服器的公開 IP 位址。

## ⚙️ 系統配置

-   **`config.json`**: 所有的域名設定都會自動儲存到根目錄下的這個檔案中。您可以手動編輯，但建議使用 GUI。
-   **`/static/`**: 此目錄包含管理介面的所有前端資源 (HTML, CSS, JS, 以及圖示)。
-   **`/certs/`**: 此目錄會被自動建立，用於快取從 Let's Encrypt 取得的憑證。

## 🤝 貢獻

歡迎任何形式的貢獻！如果您發現問題或有任何建議，請隨時提出 Issue 或提交 Pull Request。

## 📄 授權條款

本專案採用 MIT 授權條款。